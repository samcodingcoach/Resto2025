<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Resto2025.Login" NavigationPage.HasNavigationBar="False" BackgroundColor="#F9F9F9"
             xmlns:ffimageloading="clr-namespace:FFImageLoading.Maui;assembly=FFImageLoading.Maui"
             >
  
    <Grid ColumnDefinitions="0.50*,0.50*" ColumnSpacing="10" Padding="16">
<!--kolom kiri-->       
        <Grid Grid.Column="0" RowDefinitions="*,Auto" RowSpacing="10">

            <Grid Grid.Row="0" RowDefinitions="Auto,*" RowSpacing="10">
<!--informasi-->
                <Label Text="Informasi Terkini" TextColor="#333" FontFamily="FontBold" Grid.Row="0"></Label>
                <Border Grid.Row="1" Stroke="WhiteSmoke" StrokeThickness="0.2" StrokeShape="RoundRectangle 10" Background="White" Padding="10">

                    <ListView  HasUnevenRows="True" x:Name="lv_info" SeparatorVisibility="None" SelectionMode="None">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="12" Margin="0,0,0,10">
                                        <Border StrokeShape="RoundRectangle 8" Grid.Column="0" Grid.Row="0" HeightRequest="80" WidthRequest="80" StrokeThickness="0">
                                            <ffimageloading:CachedImage Source="{Binding url_gambar}" Aspect="Fill"></ffimageloading:CachedImage>
                                        </Border>
                                        <StackLayout Grid.Row="0" Grid.Column="1">
                                            <Label Text="{Binding judul}" TextColor="#333" FontFamily="FontBold" Margin="0,0,0,5"></Label>
                                            <Label Text="{Binding isi}"
                                                   FontSize="Caption" LineBreakMode="TailTruncation" MaxLines="2">
                                            </Label>
                                            <StackLayout Orientation="Horizontal"  Margin="0,13,0,0">
                                                <Label Text="Baca Selengkapnya" FontFamily="FontBold" FontSize="Caption" TextColor="CadetBlue">
                                                    <Label.GestureRecognizers>
                                                        <TapGestureRecognizer x:Name="TapReadMore" Tapped="TapReadMore_Tapped"></TapGestureRecognizer>
                                                    </Label.GestureRecognizers>
                                                </Label>
                                                <Label Text="{Binding waktu_tampil}" TranslationX="-2" HorizontalTextAlignment="End" FontSize="Caption" HorizontalOptions="EndAndExpand"></Label>
                                            </StackLayout>

                                        </StackLayout>
                                        <BoxView HeightRequest="0.5" Margin="0,10,0,0" Opacity="0.1" BackgroundColor="Gray" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3"></BoxView>
                                    </Grid>

                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </Border>


            </Grid>

<!--meja-->

            <Grid Grid.Row="1" RowDefinitions="Auto,Auto" ColumnDefinitions="*,*,*" RowSpacing="10" ColumnSpacing="10">

                <Label Text="Status Meja" TextColor="#333" FontFamily="FontBold" Grid.Row="0"></Label>

                <Border Stroke="WhiteSmoke" Grid.Row="1" Grid.Column="0" StrokeThickness="0.2" 
                        StrokeShape="RoundRectangle 5" Background="White" Padding="20,15">

                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="20">
                        <Image Source="dine_black.png" Grid.Column="0" HeightRequest="32" VerticalOptions="Center"></Image>
                        <StackLayout Grid.Column="1">
                            <Label Text="Meja Aktif" FontSize="Caption" HorizontalTextAlignment="End"></Label>
                            <Label Text="0" x:Name="L_MejaAktif" HorizontalTextAlignment="End" FontFamily="FontBold" TextColor="#333"></Label>
                        </StackLayout>
                    </Grid>
                   
                </Border>

                <Border Stroke="WhiteSmoke"  Grid.Row="1" Grid.Column="1" StrokeThickness="0.2" 
                            StrokeShape="RoundRectangle 5" Background="White" Padding="20,15">

                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="20">
                        <Image Source="dine_red.png" Grid.Column="0" HeightRequest="32" VerticalOptions="Center"></Image>
                        <StackLayout Grid.Column="1">
                            <Label Text="Meja Terpakai" FontSize="Caption" HorizontalTextAlignment="End"></Label>
                            <Label Text="0" x:Name="L_MejaTerpakai" TextColor="#C52222" HorizontalTextAlignment="End" FontFamily="FontBold" ></Label>
                        </StackLayout>
                    </Grid>

                </Border>

                <Border Stroke="WhiteSmoke"  Grid.Row="1" Grid.Column="2" StrokeThickness="0.2" 
                        StrokeShape="RoundRectangle 5" Background="White" Padding="20,15">

                    <Grid ColumnDefinitions="Auto,*" ColumnSpacing="20">
                        <Image Source="dine_green.png" Grid.Column="0" HeightRequest="32" VerticalOptions="Center"></Image>
                        <StackLayout Grid.Column="1">
                            <Label Text="Meja Kosong" FontSize="Caption" HorizontalTextAlignment="End"></Label>
                            <Label Text="0" x:Name="L_MejaKosong" TextColor="#22864A" HorizontalTextAlignment="End" FontFamily="FontBold" ></Label>
                        </StackLayout>
                    </Grid>

                </Border>


            </Grid>
                
        </Grid>
<!--kolom kanan-->
        <Grid Grid.Column="1" Padding="0">
            <Border Stroke="WhiteSmoke" StrokeThickness="0.2" StrokeShape="RoundRectangle 10" Background="White" Padding="10">
                <StackLayout >
                    <ActivityIndicator x:Name="LoadingIndicator" Margin="40,180" IsVisible="False" IsRunning="False" 
                                       Color="Red" VerticalOptions="Center" HorizontalOptions="Center"
                                       HeightRequest="100" WidthRequest="100" />
                    <StackLayout x:Name="FormLogin" IsVisible="True" Padding="40, 60" Spacing="20">
                        <!-- Header -->
                        <Label Text="NAMA APLIKASI" x:Name="L_NamaApp" FontSize="Large" FontFamily="FontBold"  HorizontalOptions="Center" VerticalOptions="Start" />

                        <Label Text="Point of Sales Version X" x:Name="L_Version" FontSize="Small" Opacity="0.7" FontFamily="FontRegular" HorizontalOptions="Center" />

                        <!-- Email Input -->
                        <Frame BorderColor="#E0E0E0" CornerRadius="8" Margin="0,30,0,0" Padding="10">
                            <StackLayout Orientation="Horizontal">
                                <Entry Placeholder="Email" x:Name="L_Email" PlaceholderColor="#999999" ClearButtonVisibility="WhileEditing" 
                                       Keyboard="Email"
                                       VerticalOptions="Center" HorizontalOptions="FillAndExpand" />
                                <Image Source="email_icon.png" WidthRequest="24" HeightRequest="24"  Margin="10,0,0,0" />
                            </StackLayout>
                        </Frame>

                        <!-- Password Input -->
                        <Frame BorderColor="#E0E0E0" CornerRadius="8" Padding="10">
                            <StackLayout Orientation="Horizontal">
                                <Entry Placeholder="Password" ClearButtonVisibility="WhileEditing" x:Name="L_Password" PlaceholderColor="#999999" IsPassword="True" VerticalOptions="Center" HorizontalOptions="FillAndExpand" />
                                <Image Source="lock_icon.png" WidthRequest="24" HeightRequest="24" Margin="10,0,0,0" />
                            </StackLayout>
                        </Frame>

                        <!-- Show Password Toggle -->
                        <StackLayout Orientation="Horizontal" Margin="0,10,0,0">
                            <StackLayout.GestureRecognizers>
                                <TapGestureRecognizer x:Name="TapViewPW" Tapped="TapViewPW_Tapped"></TapGestureRecognizer>
                            </StackLayout.GestureRecognizers>
                            <Image Source="eye_icon.png" WidthRequest="20" HeightRequest="20" VerticalOptions="Center" />
                            <Label Text="Lihat Password" x:Name="L_Lihat_Password" Margin="5,0,0,0" VerticalOptions="Center" />
                        </StackLayout>

                        <!-- Login Button -->
                        <Button Text="LOGIN" TextColor="White" CornerRadius="8" x:Name="B_Login" Clicked="B_Login_Clicked"
                                Margin="0,30,0,0" HeightRequest="50" VerticalOptions="End" />


                        <HorizontalStackLayout HorizontalOptions="Center" Margin="0,20,0,0">
                            <Label Text="Lupa Password?" FontSize="Small" VerticalOptions="Center" />
                            <Label Text=" Reset Disini" FontSize="Small" TextColor="CadetBlue" FontFamily="FontBold">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer x:Name="TapResetPassword" Tapped="TapResetPassword_Tapped"></TapGestureRecognizer>
                                </Label.GestureRecognizers>
                            </Label>
                        </HorizontalStackLayout>
                    </StackLayout>

                </StackLayout>
            </Border>
        </Grid>

    </Grid>
</ContentPage>